{% extends 'CommonBase/Base.html' %}


{% block customcss %}
{% load static %}
<link href="{% static 'css/dashboard.css' %}" rel="stylesheet">
<link href="{% static 'css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet">
{% endblock %}


{% block content %}
<div class="container-fluid">
    <form role="form" class="form-horizontal" >
        <div class="form-group">
            <label for="dtRange" class="col-md-2 control-label">时间</label>
            <div class="col-md-5">
                <select id="dtRange" class="form-control">
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="prjName" class="col-md-2 control-label">项目</label>
            <div class="col-md-5">
                <input type="text" class="form-control" id="prjName" placeholder="请输入项目名称">
            </div>
        </div>
        <div class="form-group">
            <label for="taskName" class="col-md-2 control-label">任务</label>
            <div class="col-md-5">
                <input type="text" class="form-control" id="taskName" placeholder="请输入任务名称">
            </div>
        </div>
        <div class="form-group">
                <label for="planEndDt" class="col-md-2 control-label">计划完成时间</label>
                 <div class="col-md-5">
                    <input class="form-control" id="planEndDt" type="text" data-date-format="yyyy-mm-dd"  value="" readonly>
                </div>
            </div>
        <div class="form-group">
            <label for="status" class="col-md-2 control-label">完成状态</label>
            <div class="col-md-5">
                <select id="status" class="form-control">
                    <option value="0">未完成</option>
                    <option value="1">已完成</option>
                </select>
            </div>
        </div>
    </form>
</div>
{% endblock %}


{% block bodyjs %}

{% load static %}
<script src="{% static 'js/bootstrap-datetimepicker.min.js' %}" charset="UTF-8"></script>
<script src="{% static 'js/bootstrap-datetimepicker.zh-CN.js' %}" charset="UTF-8"></script>
<script src="{% static 'js/dt-util.js' %}" charset="UTF-8"></script>
<script type="text/javascript">

$('#planEndDt').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		minView: 2,
		forceParse: 0
    });

var preWeek = '上周(' + getLastWeekStartDate() + '-' + getLastWeekEndDate() +')';
var curWeek = '本周(' + getWeekStartDate() + '-' + getWeekEndDate() +')';
var nextWeek = '下周(' + getNextWeekStartDate() + '-' + getNextWeekEndDate() +')';
$("#dtRange").append("<option>" + preWeek + "</option>");
$("#dtRange").append("<option>" + curWeek + "</option>");
$("#dtRange").append("<option>" + nextWeek + "</option>");
$("#dtRange").val(curWeek);
</script>

{% endblock %}